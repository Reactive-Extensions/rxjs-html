{"version":3,"file":"rx.dom.compat.min.js","sources":["rx.dom.compat.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","isNodeList","el","StaticNodeList","NodeList","Object","prototype","toString","fixEvent","event","stopPropagation","cancelBubble","preventDefault","bubbledKeyCode","keyCode","ctrlKey","e","defaultPrevented","returnValue","modified","target","srcElement","type","relatedTarget","fromElement","toElement","c","charCode","keyChar","String","fromCharCode","createListener","element","name","handler","useCapture","addEventListener","disposableCreate","removeEventListener","attachEvent","innerHandler","detachEvent","createEventListener","eventName","disposables","CompositeDisposable","i","len","length","add","item","getXMLHttpRequest","XMLHttpRequest","progId","progIds","ActiveXObject","Error","getCORSRequest","xhr","XDomainRequest","normalizeAjaxSuccessEvent","settings","response","responseText","responseType","JSON","parse","status","originalEvent","normalizeAjaxErrorEvent","Observable","AnonymousObservable","observerCreate","Observer","create","observableCreate","Disposable","SingleAssignmentDisposable","AsyncSubject","Subject","Scheduler","defaultNow","Date","now","dom","DOM","hasOwnProperty","noop","helpers","isFunction","fromEvent","selector","selectorFn","observer","results","arguments","tryCatch","apply","errorObj","onError","onNext","publish","refCount","events","PointerEvent","TouchEvent","split","ready","onCompleted","document","returnFn","readyState","setTimeout","ajaxRequest","ajax","options","method","crossDomain","async","headers","createXHR","normalizeError","normalizeSuccess","url","prop","hasContent","body","isDone","processResponse","err","user","open","password","header","setRequestHeader","upload","onload","progressObserver","onprogress","onerror","onabort","onreadystatechange","send","abort","post","get","getJSON","TypeError","map","x","destroy","trash","createElement","appendChild","innerHTML","jsonpRequest","id","callbackId","jsonp","jsonpCallback","script","src","replace","data","called","onreadystatechanged","head","getElementsByTagName","documentElement","insertBefore","firstChild","fromWebSocket","protocol","openObserver","closingObserver","socketClose","code","reason","socket","close","WebSocket","observable","obs","openHandler","messageHandler","errHandler","closeHandler","wasClean","OPEN","fromWebWorker","Worker","worker","terminate","postMessage","fromEventSource","EventSource","onOpen","source","CLOSED","onMessage","fromMutationObserver","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","mutationObserver","bind","observe","disconnect","requestAnimFrame","cancelAnimFrame","requestAnimationFrame","cancelAnimationFrame","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","cb","clearTimeout","scheduleNow","state","action","scheduler","disposable","isDisposed","setDisposable","scheduleRelative","dueTime","dt","normalize","scheduleWithState","scheduleAbsolute","scheduleWithRelativeAndState","microtask","clearMethod","handle","tasksByHandle","runTask","currentlyRunning","task","postMessageSupported","importScripts","isAsync","oldHandler","onmessage","onGlobalPostMessage","substring","MSG_PREFIX","scheduleMethod","nextHandle","PREFIX","mutations","forEach","mutation","attributeName","attributes","setAttribute","setImmediate","Math","random","currentId","MessageChannel","channel","port1","port2","scriptElement","parentNode","removeChild","geolocation","getCurrentPosition","geolocationOptions","navigator","navigation","watchPosition","watchId","clearWatch","fromReader","file","_fromReader","readerFn","encoding","loadHandler","subject","result","errorHandler","error","progressHandler","reader","FileReader","subscribe","LOADING","asArrayBuffer","asBinaryString","asDataURL","asText"],"mappings":"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"}